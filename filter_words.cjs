const fs = require('fs');

const CHOSEONG = ['ㄱ', 'ㄲ', 'ㄴ', 'ㄷ', 'ㄸ', 'ㄹ', 'ㅁ', 'ㅂ', 'ㅃ', 'ㅅ', 'ㅆ', 'ㅇ', 'ㅈ', 'ㅉ', 'ㅊ', 'ㅋ', 'ㅌ', 'ㅍ', 'ㅎ'];
const JUNGSEONG = ['ㅏ', 'ㅐ', 'ㅑ', 'ㅒ', 'ㅓ', 'ㅔ', 'ㅕ', 'ㅖ', 'ㅗ', 'ㅘ', 'ㅙ', 'ㅚ', 'ㅛ', 'ㅜ', 'ㅝ', 'ㅞ', 'ㅟ', 'ㅠ', 'ㅡ', 'ㅢ', 'ㅣ'];
const JONGSEONG = ['', 'ㄱ', 'ㄲ', 'ㄳ', 'ㄴ', 'ㄵ', 'ㄶ', 'ㄷ', 'ㄹ', 'ㄺ', 'ㄻ', 'ㄼ', 'ㄽ', 'ㄾ', 'ㄿ', 'ㅀ', 'ㅁ', 'ㅂ', 'ㅄ', 'ㅅ', 'ㅆ', 'ㅇ', 'ㅈ', 'ㅊ', 'ㅋ', 'ㅌ', 'ㅍ', 'ㅎ'];
const ALLOWED_KEYS = ['ㄱ', 'ㄴ', 'ㄷ', 'ㄹ', 'ㅁ', 'ㅂ', 'ㅅ', 'ㅇ', 'ㅈ', 'ㅊ', 'ㅋ', 'ㅌ', 'ㅍ', 'ㅎ', 'ㄲ', 'ㄸ', 'ㅃ', 'ㅆ', 'ㅉ', 'ㅏ', 'ㅑ', 'ㅓ', 'ㅕ', 'ㅗ', 'ㅛ', 'ㅜ', 'ㅠ', 'ㅡ', 'ㅣ'];

const WORDS = [
    "간염", "신염", "장염", "담석", "결핵", "빈혈", "혈종", "혈압", "혈당", "맥박", "심장", "간경", "담관", "담낭", "신장", "방광", "난관", "질염", "음낭", "항문", "직장", "결장", "맹장", "간장", "담즙", "혈관", "림절", "근막", "골막", "경막", "연골", "관절", "건막", "각막", "결막", "공막", "망막", "늑막", "흉막", "흉통", "복통", "흉벽", "복벽", "근육", "골격", "신경", "감각", "운동", "경령", "경직", "실신", "발열", "빈맥", "감염", "염증", "농양", "출혈", "혈변", "객혈", "혈담", "혈색", "황달", "창백", "청색", "경결", "결절", "종창", "압통", "동통", "통증", "작열", "발진", "홍반", "반점", "균열", "욕창", "동상", "골절", "천공", "협착", "확장", "경색", "색전", "산증", "산혈", "용혈", "응혈", "혈장", "혈청", "백혈", "적혈", "혈액", "땀샘", "장액", "영양", "결핍", "신전", "신성", "간성", "급성", "만성", "잠복", "병력", "문진", "촉진", "청진", "맥진", "진단", "감별", "판독", "진행", "침윤", "합병", "확진", "관찰", "입원", "전원", "응급", "중환", "봉합", "절단", "감압", "삽관", "흡인", "관장", "결찰", "항균", "항암", "진통", "진정", "항염", "항원", "면역", "반응", "독성", "중독", "심음", "잡음", "정상", "검출", "음성", "양성", "민감", "정확", "분석", "측정", "판정", "용량", "용법", "적응", "금단", "남용", "복용", "흡입", "질벽", "장벽", "복막", "병원", "약국", "병동", "상담", "본진", "병명", "병인", "생존", "경증", "중증", "중등", "천식", "독감", "홍역", "풍진", "통풍", "간질", "발작", "진전", "전염", "충혈", "발암", "객담", "신석", "신암", "접종", "검진", "진찰", "촬영", "단층", "영상", "병실", "병상", "입실", "복약", "약물", "독물", "식염", "질산", "황산", "염산", "탄산", "인산", "핵산", "당질", "각질", "발적", "손상", "열상", "찰상", "절상", "창상", "압상", "총상", "실혈", "난청", "실명", "환각", "환청", "공황", "강박", "정신", "불안", "불면", "섬망", "발한", "한열", "경통", "근통", "심통", "심정", "심근", "심실", "심방", "심낭", "심막", "심박", "심전", "판막", "협심", "균혈", "독혈", "혈병", "혈증", "농혈", "혈흔", "늑골", "흉골", "종골", "경골", "척골", "견갑", "골반", "흉강", "복강", "늑간", "흉근", "복근", "흉선", "연막", "점막", "장막", "정낭", "정관", "정액", "임신", "분만", "난임", "불임", "난산", "산전", "성홍", "선암", "육종", "근종", "암종", "종양", "종물", "종격", "견관", "완관", "족관", "슬관", "코로나"
];

function decompose(word) {
    let result = [];
    for (let char of word) {
        const code = char.charCodeAt(0) - 44032;
        if (code < 0 || code > 11171) continue;
        const cho = Math.floor(code / 588);
        const jung = Math.floor((code % 588) / 28);
        const jong = code % 28;
        result.push(CHOSEONG[cho], JUNGSEONG[jung]);
        if (jong !== 0) result.push(JONGSEONG[jong]);
    }
    return result;
}

const passed = WORDS.filter(word => {
    const units = decompose(word);
    return units.length === 6 && units.every(k => ALLOWED_KEYS.includes(k));
});

console.log(JSON.stringify(passed));
